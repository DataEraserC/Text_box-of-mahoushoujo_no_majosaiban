<div align="center">

# 🎭魔法少女的魔女裁判文本框脚本


<img width="1200" height="390" alt="5f10f4239bc8a82812e505fd0c4f5567" src="https://github.com/user-attachments/assets/6fb46a8d-4fc4-4d10-80a0-ed21fbb428bf" />

<img width="1200" height="390" alt="96038673678af657e937d20617322e81" src="https://github.com/user-attachments/assets/847c331e-9274-4b60-9b42-af0a80265391" />


一个基于Python的自动化表情包生成工具，能够快速生成带有自定义文本的魔法少女的魔女裁判文本框图片。[灵感来源与代码参考](https://github.com/MarkCup-Official/Anan-s-Sketchbook-Chat-Box)

<div align="left">

## 功能特色

🎨 多角色支持 - 内置14个角色，每个角色多个表情差分

⚡ 快捷键操作 - 全键盘操作，无需鼠标点击

🖼️ 智能合成 - 自动合成背景与角色图片

📝 文本嵌入 - 自动在表情图片上添加文本

🎯 随机算法 - 智能避免重复表情

💾 自动保存 - 生成图片自动保存到用户文档目录

## 使用方法

### 操作流程

输入文本 - 在聊天框或文本编辑器中输入想要添加的文本

切换角色 - 使用快捷键切换到目标角色

生成图片 - 按下 Enter 键自动生成并发送

清理缓存 - 使用 Tab 键清理生成的临时图片

### 基础命令

编号	角色名	快捷键

- 1	樱羽艾玛	Ctrl+1
- 2	二阶堂希罗	Ctrl+2 
- 3	橘雪莉	Ctrl+3
- 4	远野汉娜	Ctrl+4
- 5	夏目安安	Ctrl+5
- 6	月代雪	Ctrl+6
- 7	冰上梅露露	Ctrl+7
- 8	城崎诺亚	Ctrl+8
- 9	莲见蕾雅	Ctrl+9
- 10	佐伯米莉亚	Ctrl+q
- 11	黑部奈叶香	Ctrl+e
- 12	宝生玛格	Ctrl+r
- 13	紫藤亚里沙	Ctrl+t
- 14	泽渡可可	Ctrl+y


 - Enter 自动生成图片并发送
 - Alt+1-9 切换角色本次表情(月代雪的差分多达18张因此无法自主切换到后9张）
 - Ctrl+0 查看当前角色
 - Ctrl+Tab 清除已加载的图片，释放空间
 - Esc 退出

### 使用提醒

由于制作时采取了合成图片的思路，第一次切换角色后需要等待合成，无法立即使用

另外，若要使用角色，请下载对应角色文件夹并放到main.py文件所在目录中

## 更新日志（学长说最好写个这东西，虽然没写过但是先养成习惯？）

### v1.1.5

- 增添了自主切换表情功能
- 将特殊字体改为红色

### v1.1.4

- 修复了一些小bug
- 打印了加载过程，加载完成后会自动显示
- 支持快速切换

### v1.1.3 

- 发行第一版
- 将图片储存方式改为自动合成后储存在用户文档处，减少程序本身大小
- 限制了发送图片的大小，防止占用其他人的储存
- 删去了角色哭泣和阴脸的表情


### v1.1.2

- 做完了所有角色

### v1.1.1

- 做出来了橘雪莉

### 许可证

本项目基于MIT协议传播，仅供个人学习交流使用，不拥有相关素材的版权。进行分发时应注意不违反素材版权与官方二次创造协定。

## 结语

受B站上MarkCup做的夏目安安传话筒启发，以夏目安安传话筒为源代码编写了这样一个文本框脚本。
由于本人是初学者，第一次尝试写这种代码，有许多地方尚有改进的余地，望多多包含。

更新日志怎么写啊

<div align="right">
  
### 以上. 柊回文————2025.11.15

```
# 魔法少女裁判 - 文本框生成器 (Go Web 版本)

这个项目是将原有的 Python 版本重构为 Go 语言实现的 Web 应用，采用前后端分离架构。

## 功能特点

- 基于 Web 的用户界面，可在浏览器中使用
- 支持多种魔法少女角色选择
- 支持不同表情选择
- 文本自适应排版
- 前后端分离架构
- Go 语言实现后端服务

## 技术栈

- 后端: Go + Gin 框架
- 前端: HTML + JavaScript
- 图片处理: Go 标准库 image 包

## 安装和运行

1. 确保已安装 Go 1.21 或更高版本
2. 克隆项目代码
3. 安装依赖:
   ```
   go mod tidy
   ```
4. 运行服务:
   ```
   go run main.go
   ```
5. 在浏览器中访问: http://localhost:8080/frontend/index.html

## API 接口

### 获取角色列表
```
GET /api/characters
```

### 设置当前角色
```
POST /api/characters/current
```

### 获取当前角色
```
GET /api/characters/current
```

### 获取角色表情列表
```
GET /api/characters/{characterId}/emotions
```

### 生成图片
```
POST /api/generate
```

## 目录结构

```
.
├── background/           # 背景图片目录
├── {character}/          # 各角色图片目录
├── frontend/             # 前端页面
│   └── index.html
├── images/               # 生成的图片存储目录
├── font1.ttf             # 字体文件
├── font2.ttf
├── font3.ttf
├── main.go               # 主程序
├── go.mod
├── go.sum
└── README.md
```

## 使用说明

1. 打开浏览器访问前端页面
2. 选择一个角色
3. 选择表情（可选，默认随机）
4. 在文本框中输入要显示的文本
5. 点击"生成图片"按钮
6. 预览生成的图片并下载

## 开发计划

- [x] 实现基本的前后端架构
- [x] 实现角色选择功能
- [x] 实现表情选择功能
- [ ] 实现完整的图片处理逻辑（与原Python版本功能一致）
- [ ] 优化前端界面和用户体验
- [ ] 添加更多自定义选项
